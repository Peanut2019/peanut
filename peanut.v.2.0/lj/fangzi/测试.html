D:\study\project__\buxiuse3\venv_dsy\Scripts\python.exe D:/study/project__/fangzi/测试.py
睡3秒,,次数: 2
这是短网址...需要更改... https://bj.5i5j.com/zufang/chaoyangqu/b0e3000
403
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>403 Forbidden</title>
<style>
body{ 
    padding:0; 
    margin:0; 
    font-family:"Microsoft YaHei", 
    "Microsoft YaHei UI Light";
    font-size:14px;
}
.page{
    height: 446px; 
    margin: 0 auto;
    padding-right:20px;
    margin-top:3%;
}
.page-top{
    widthï¼1200px;
    margin: 0 auto;
    text-align:center;
}
.page-bottom{
    width:1200px;
    margin: 0 auto;
}
.page-bottom-tip{
   text-align:center;
   color: #7d7d7d;
   padding:16px 0 10px 0;
   font-size:16px;
}
.page-bottom-word{
   margin-left:30%;
   color:#313131
}
.page-bottom-word p{
  font-weight:unset;
  line-height: 22px;
  margin: 0;
}

</style>
</head>
<body>
<div class="page">  
    <div class="page-top">
        <img src="https://blocksrc.haplat.net/waf_forbidden_file/waf-interTip.jpg" />
    </div>
    <div class="page-bottom">
      <div class="page-bottom-tip" langFlag='errorTip'></div>
      <div class="page-bottom-word">
       <p><span>URL</span> <span langFlag='colon'></span> <span>https://bj.5i5j.com/zufang/chaoyangqu/b0e3000</span></p>
       <p><span langFlag='evenID'></span> <span langFlag='colon'></span> <span>26aa048a-18f2-40da-951c-336a3d758629</span></p>
       <p><span langFlag='clientIP'></span> <span langFlag='colon'></span> <span>106.39.148.90</span></p>
       <p><span langFlag='cuurentTime'></span> <span langFlag='colon'></span> <span id="time_id"></span ></p>
       <p id="botId"><span langFlag='blockId'></span> <span langFlag='colon'></span> <span id="innerBot">#RySVTBl7gQjTTQYAMOGmAWcrBdKDUhjdzOSldVMUkxmaVisZbPcK41W67jG7Z7jsWoqcAsIM</span></p>
       <p><span langFlag='userAgent'></span> <span langFlag='colon'></span> <span>python-requests/2.22.0</span></p>
      </div>
    </div>
</div>
<script type="text/javascript" src="https://blocksrc.haplat.net/waf_forbidden_file/waf-jquery-min.js"></script>
<script>
jQuery(document).ready(function($) {
    $("#time_id").html(toLT(1577149025000));
    winHeight = $(window).height();
    $(".page").stop(true,false).animate({"margin-top":winHeight/2-312},0);
    $(window).resize(function(){  
        winHeight = $(window).height();
        $(".page").stop(true,false).animate({"margin-top":winHeight/2-312},0);
    });
    changePageElem();
    if($('#innerBot').html().length<=0){
        $('#botId').remove();
    }
});

function toLT(date){
    date = new Date(parseInt(date));
    var utc;
    if (judgeLanguage() == 0)
        utc = date.toLocaleString('zh',{timeZoneName: 'short', hour12: false});
    else
        utc = date.toLocaleString('en',{timeZoneName: 'short', hour12: false});
    return utc;
}
function judgeLanguage(){
   var lang = navigator.language || navigator.userLanguage;
   var langFlag ;
   if(lang=="zh-CN"){
       langFlag=0;
   } else{
       langFlag=1;
   }
   return langFlag;
}
function changePageElem(){
    var langObj={       
        'colon':['ï¼',':'],
        'evenID':['äºä»¶ID','Event-ID'],
        'clientIP':['å®¢æ·ç«¯ID','Client-ID'],
        'cuurentTime':['å½åæ¶é´','Current Time'],
        'errorTip':['æ¨å½åçè®¿é®è¡ä¸ºå­å¨å¼å¸¸ï¼è¯·ç¨åéè¯...','Your current behavior is detected as abnormal, Please try again later...'],
        'userAgent':['User-Agent','User-Agent'],
        'blockId':['Botæ¦æªID','Bot-Block-ID'],
    }
    var _index=judgeLanguage();
    var pageElements = $("[langFlag]");
    var lblLen = pageElements.length;
    var _elem,_flag;
    for(i = 0; i < lblLen; i++) {
        _elem = $(pageElements[i]);
        _flag=_elem.attr("langFlag");
        _elem.text(langObj[_flag][_index]);
    };
}

</script>
</body>
</html>


Traceback (most recent call last):
  File "D:/study/project__/fangzi/测试.py", line 92, in <module>
    count_1(url_001)
  File "D:/study/project__/fangzi/测试.py", line 67, in count_1
    url = change(url_001)
  File "D:/study/project__/fangzi/测试.py", line 18, in change
    res_list = regex.findall(res_text)[0]  # 匹配出.list
IndexError: list index out of range

Process finished with exit code 1
